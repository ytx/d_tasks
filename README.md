# DailyTasks

シンプルなデイリータスク管理アプリケーション。タスクをタイル状に表示し、クリックで状態を切り替えることができます。MQTT連携により複数デバイス間での同期も可能です。

コードはすべてClaude Codeが書いています。私は内容をほとんど見てません。

私が欲しいものを作っています。macOSのChromeのみ動作確認しています。 あまり、リッチにすることは考えていませんが、要望などあれば検討します。

ここから下は、Claude Code が勝手に書いているのでやや大げさですが、 だいたい合っていると思います。

## 特徴

- 🎯 **直感的なUI**: タイルクリックで簡単な状態切り替え
- 🔄 **MQTT同期**: 複数デバイス間でのリアルタイム状態同期
- ⏰ **自動化**: 指定時刻に自動でTODO状態に変更
- 🎨 **カスタマイズ**: 色とMQTT設定の自由な変更
- 💾 **データ永続化**: ブラウザLocalStorageに自動保存
- 📱 **レスポンシブ**: PC・タブレット・スマートフォン対応

## クイックスタート

1. `index.html`をブラウザで開く
2. 右側の`+`ボタンでタスクを追加
3. タイルをクリックして状態切り替え

## 基本操作

### タスク管理

#### 新規タスク追加
1. 右側サイドバーの`+`ボタンをクリック
2. タスク情報を入力：
   - **タスク名**: 表示されるラベル
   - **MQTTトピック**: 同期用のトピック名
   - **実行曜日**: 複数選択可（デフォルト：平日）
   - **実行時刻**: 自動TODO化する時刻（任意）
3. `保存`ボタンでタスク作成

#### 既存タスク編集・削除
- **右クリック** または **長押し** でコンテキストメニュー表示
- `編集`で内容変更、`削除`でタスク削除

#### タスク状態変更
- **タイルクリック**: TODO（赤） ⇔ DONE（緑）の切り替え
- 状態変更は自動的にMQTTで配信され、LocalStorageに保存

#### タスク並び替え
- **ドラッグ&ドロップ**でタスクの表示順序を変更

### 設定

右側サイドバーの`⚙`ボタンで設定画面を開きます。

#### MQTTタブ
```
MQTTホスト: localhost
MQTTポート: 1883
トピックプレフィックス: dailytasks/
```

#### 色設定タブ
- **TODO色**: 未完了タスクの背景色（デフォルト: 赤）
- **DONE色**: 完了タスクの背景色（デフォルト: 緑）
- **背景色**: アプリ全体の背景色（デフォルト: 薄灰）

#### データ管理タブ
- **エクスポート**: 全設定・タスクをJSON形式で出力
- **インポート**: JSON形式のデータを読み込み

## 高度な機能

### MQTT同期

複数デバイス間でタスク状態を同期できます：

1. WebSocket対応のMQTTブローカーを用意
2. 設定でMQTT接続情報を入力
3. 各タスクに個別のトピック名を設定
4. タスク状態変更が全デバイスに自動配信

**推奨MQTTブローカー**: Mosquitto, EMQX, HiveMQ

### 自動化機能

指定時刻になると自動的にタスクがTODO状態に変更されます：

1. タスク編集画面で「実行時刻」を設定
2. 該当曜日の指定時刻にタスクが自動的にTODO状態に
3. MQTT経由で他デバイスにも同期

### データの移行

設定画面のデータ管理タブで：
```json
{
  \"settings\": {
    \"mqtt\": {...},
    \"colors\": {...}
  },
  \"tasks\": [...]
}
```

このJSON形式でデータのバックアップ・移行が可能です。

## 技術仕様

- **フロントエンド**: HTML5, CSS3, vanilla JavaScript
- **MQTTライブラリ**: mqtt.js (CDN)
- **データ永続化**: LocalStorage
- **対応ブラウザ**: Chrome, Firefox, Safari, Edge（最新版）

## FAQ

**Q: タスクが表示されない**
A: ブラウザの開発者ツールでLocalStorageの`dailytasks-tasks`キーを確認してください。

**Q: MQTT接続できない**
A: ブローカーがWebSocket対応か、ポート番号が正しいかを確認してください。

**Q: 自動化が動作しない**
A: ブラウザタブが開かれている必要があります。タブを閉じると自動化は停止します。

**Q: データをリセットしたい**
A: ブラウザのLocalStorageをクリアするか、設定画面でデータを空のJSONで置き換えてください。

## ライセンス

MIT License

## 貢献

バグ報告や機能要望は[GitHub Issues](https://github.com/ytx/d_tasks/issues)までお願いします。